<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Fan()</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  
  
  
  <meta property="og:type" content="website">
<meta property="og:title" content="Fan()">
<meta property="og:url" content="http://fuxkdb.com/page/17/index.html">
<meta property="og:site_name" content="Fan()">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="大范">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Fan()" type="application/atom+xml">
  

  

  <link rel="icon" href="/css/images/mylogo.jpeg">
  <link rel="apple-touch-icon" href="/css/images/mylogo.jpeg">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt; src:url("/css/fonts/FuturaPTBold.otf") format("woff");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt-light; src:url("/css/fonts/FuturaPTBook.otf") format("woff");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt-italic; src:url("/css/fonts/FuturaPTBookOblique.otf") format("woff");font-weight:400;font-style:italic;}
}

  </style>
  
<link rel="stylesheet" href="/css/style.css">


  
<script src="/js/jquery-3.1.1.min.js"></script>

  
<script src="/js/bootstrap.js"></script>


  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css" >

  
    <link rel="stylesheet" href="/css/home.css" >
  

  

  

  
  
  
    <link rel="stylesheet" href="/css/vdonate.css" >
  

<meta name="generator" content="Hexo 5.1.1"></head>



  <body>


  
    <header id="header">

	<!-- 背景图模式 -->
	

    
      <div id="intrologo" class="intro-logo" style="background-position:center; background-repeat:no-repeat; background-image: url(); background-size: auto 100%;">

      <!-- Support rolling -->  
        
        <section class="awSlider">
          <div class="carousel slide carousel-fade " data-ride="carousel">

            <!-- Wrapper for slides -->
            <div class="carousel-inner">
               
                  
                    <div class="item active">
                  
                    <img id="carousel-img0" src="/css/images/1.jpg">
                  </div>

                  <!-- 自适应大图 -->
                  <script>
                      var img0 = new Image();
                      var imageTag0 = document.getElementById("carousel-img0");
                      img0.src = imageTag0.src;
                      img0.onload=function(){
                        if (img0.width / img0.height <= document.body.clientWidth / document.body.clientHeight) {
                          imageTag0.style.width = document.body.clientWidth + "px";
                        } else {
                          imageTag0.style.height = document.body.clientHeight + "px";
                          imageTag0.style.marginLeft = -(document.body.clientHeight * img0.width / img0.height - document.body.clientWidth) / 2 + "px";
                        }
                      };
                  </script>
                
                  
                    <div class="item">
                  
                    <img id="carousel-img1" src="/css/images/2.jpg">
                  </div>

                  <!-- 自适应大图 -->
                  <script>
                      var img1 = new Image();
                      var imageTag1 = document.getElementById("carousel-img1");
                      img1.src = imageTag1.src;
                      img1.onload=function(){
                        if (img1.width / img1.height <= document.body.clientWidth / document.body.clientHeight) {
                          imageTag1.style.width = document.body.clientWidth + "px";
                        } else {
                          imageTag1.style.height = document.body.clientHeight + "px";
                          imageTag1.style.marginLeft = -(document.body.clientHeight * img1.width / img1.height - document.body.clientWidth) / 2 + "px";
                        }
                      };
                  </script>
                
                  
                    <div class="item">
                  
                    <img id="carousel-img2" src="/css/images/3.jpg">
                  </div>

                  <!-- 自适应大图 -->
                  <script>
                      var img2 = new Image();
                      var imageTag2 = document.getElementById("carousel-img2");
                      img2.src = imageTag2.src;
                      img2.onload=function(){
                        if (img2.width / img2.height <= document.body.clientWidth / document.body.clientHeight) {
                          imageTag2.style.width = document.body.clientWidth + "px";
                        } else {
                          imageTag2.style.height = document.body.clientHeight + "px";
                          imageTag2.style.marginLeft = -(document.body.clientHeight * img2.width / img2.height - document.body.clientWidth) / 2 + "px";
                        }
                      };
                  </script>
                
                  
                    <div class="item">
                  
                    <img id="carousel-img3" src="/css/images/4.jpg">
                  </div>

                  <!-- 自适应大图 -->
                  <script>
                      var img3 = new Image();
                      var imageTag3 = document.getElementById("carousel-img3");
                      img3.src = imageTag3.src;
                      img3.onload=function(){
                        if (img3.width / img3.height <= document.body.clientWidth / document.body.clientHeight) {
                          imageTag3.style.width = document.body.clientWidth + "px";
                        } else {
                          imageTag3.style.height = document.body.clientHeight + "px";
                          imageTag3.style.marginLeft = -(document.body.clientHeight * img3.width / img3.height - document.body.clientWidth) / 2 + "px";
                        }
                      };
                  </script>
                
                  
                    <div class="item">
                  
                    <img id="carousel-img4" src="/css/images/5.jpeg">
                  </div>

                  <!-- 自适应大图 -->
                  <script>
                      var img4 = new Image();
                      var imageTag4 = document.getElementById("carousel-img4");
                      img4.src = imageTag4.src;
                      img4.onload=function(){
                        if (img4.width / img4.height <= document.body.clientWidth / document.body.clientHeight) {
                          imageTag4.style.width = document.body.clientWidth + "px";
                        } else {
                          imageTag4.style.height = document.body.clientHeight + "px";
                          imageTag4.style.marginLeft = -(document.body.clientHeight * img4.width / img4.height - document.body.clientWidth) / 2 + "px";
                        }
                      };
                  </script>
                
            </div>

            <!-- Controls -->
            <a class="left carousel-control" href=".carousel" role="button" data-slide="prev">
              <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
              <span class="sr-only">Geri</span>
            </a>
            <a class="right carousel-control" href=".carousel" role="button" data-slide="next">
              <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
              <span class="sr-only">İleri</span>
            </a>
          </div>
        </section>
        <script>
          $('section.awSlider .carousel').carousel({
              pause: '',
              interval: 5000
          });
          var startImage = $('section.awSlider .item.active > img').attr('src');
          $('section.awSlider .carousel').on('slid.bs.carousel', function () {
              var bscn = $(this).find('.item.active > img').attr('src');
              $('section.awSlider > img').attr('src', bscn);
          });
        </script>
      

    
 


    <canvas width="100%" height="100%"></canvas>
    <script>
      var c = document.getElementsByTagName('canvas')[0],
          x = c.getContext('2d'),
          w = window.innerWidth,
          h = window.innerHeight,
          pr = window.devicePixelRatio || 1,
          f = 90,
          q,
          m = Math,
          r = 0,
          u = m.PI*2,
          v = m.cos,
          z = m.random
      c.width = w*pr
      c.height = h*pr
      x.scale(pr, pr)
      x.globalAlpha = 0.6

      <!-- 折线Polyline背景 -->
      
    </script>
    

    
      <div id="homelogo" class="homelogo" style="background: rgba(255,255,255,1);"> 
    

        
          <div class="homelogoback"  style="border: 1px solid #404040;" >
            <h1><a href="#content" id="logo">Fan()</a></h1>
            <h3></h3>
            <h5>大范</h5>
            <!-- <p><a href="https://github.com/iTimeTraveler" target="_blank">Github</a></p> -->
          </div>
        
    
    </div>
  </div>

  <!-- 自适应主页背景大图 -->
  

 <!-- home_logo_image居中 -->
 
    <script>
        var homelogodiv = document.getElementById("homelogo");
        if (document.all.homelogo.offsetWidth > document.body.clientWidth) {
          homelogodiv.style.width = document.body.clientWidth + "px";
          homelogodiv.style.marginLeft = document.body.clientWidth * -0.5 + "px";
        } else {
          homelogodiv.style.width = homelogodiv.clientWidth  + "px";
          homelogodiv.style.marginLeft = (homelogodiv.clientWidth)  * -0.5 + "px";
        }
    </script>
  

  <div class="intro-navigate">
      <p class="navigater-list">
        
          <a id="beautifont" class="main-nav-link" href="/">首页</a>
        
          <a id="beautifont" class="main-nav-link" href="/archives">归档</a>
        
          <a id="beautifont" class="main-nav-link" href="/tags">标签</a>
        
          <a id="beautifont" class="main-nav-link" href="/about">关于</a>
        
      </p>
  </div>

</header>
  
  <div id="container">
    <div id="wrap">
      
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;">
  
    <article id="post-masterha_manager参数说明"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/07/20/masterha_manager%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/">masterha_manager参数说明</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/07/20/masterha_manager%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/" class="article-date">
	  <time datetime="2017-07-20T14:00:00.000Z" itemprop="datePublished">2017-07-20</time>
	</a>

      
      
      

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="masterha-manager-Command-to-run-MHA-Manager"><a href="#masterha-manager-Command-to-run-MHA-Manager" class="headerlink" title="masterha_manager: Command to run MHA Manager"></a>masterha_manager: Command to run MHA Manager</h2><p>MHA Manager can be started by executing masterha_manager command.</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># masterha_manager --conf=<span class="regexp">/etc/</span>conf<span class="regexp">/masterha/</span>app1.cnf</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>masterha_manager takes below arguments.</p>
<h2 id="Common-arguments"><a href="#Common-arguments" class="headerlink" title="Common arguments"></a>Common arguments</h2>
      
    </div>
    <footer class="article-footer">
      
      
      
      

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->


  
    <article id="post-MHA Tutorial"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/07/19/MHA%20Tutorial/">MHA Tutorial</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/07/19/MHA%20Tutorial/" class="article-date">
	  <time datetime="2017-07-19T15:00:00.000Z" itemprop="datePublished">2017-07-19</time>
	</a>

      
      
      

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="MHA-Tutorial"><a href="#MHA-Tutorial" class="headerlink" title="MHA Tutorial"></a>MHA Tutorial</h2><h3 id="简单故障转移"><a href="#简单故障转移" class="headerlink" title="简单故障转移"></a>简单故障转移</h3><h4 id="构建复制环境"><a href="#构建复制环境" class="headerlink" title="构建复制环境"></a>构建复制环境</h4><p>MHA不会帮你搭建复制环境,所以你需要自己搭建复制.换句话说,你可以在已有环境中使用MHA.举个例子,假设有四台主机:host1,host2,host3,host4.主库运行在host1,两个从库分别运行在host2和host3,而host4负责运行MHA Manager.</p>
<h4 id="在host1-host4安装MHA-Node"><a href="#在host1-host4安装MHA-Node" class="headerlink" title="在host1-host4安装MHA Node"></a>在host1-host4安装MHA Node</h4><p>See <a target="_blank" rel="noopener" href="https://github.com/yoshinorim/mha4mysql-manager/wiki/Installation#Installing_MHA_Node">Installing MHA Node</a><br>
      
    </div>
    <footer class="article-footer">
      
      
      
      

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->


  
    <article id="post-MHA Overview"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/07/19/MHA%20Overview/">MHA Overview</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/07/19/MHA%20Overview/" class="article-date">
	  <time datetime="2017-07-19T14:00:00.000Z" itemprop="datePublished">2017-07-19</time>
	</a>

      
      
      

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="MHA概览"><a href="#MHA概览" class="headerlink" title="MHA概览"></a>MHA概览</h2><p>MHA能够实现自动化的master failover和从库升级为new master,通常这一过程只需要10-30秒的停机时间.MHA最大程度保证了数据一致性,对性能零影响,易于安装,并且不需要改变现有部署情况.</p>
<p>MHA支持计划性在线主库切换,在短时间内(0.5-2秒)的停机时间(仅限阻塞写入)，将当前运行的主机安全地更改为新主机.</p>
<p>MHA提供以下功能,并且可用于需要高可用性,数据完整性和近乎不间断主库维护的许多部署中.</p>
<ul>
<li><p>Automated master monitoring and failover</p>
      
    </div>
    <footer class="article-footer">
      
      
      
      

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->


  
    <article id="post-Sysbench出图"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/07/06/Sysbench%E5%87%BA%E5%9B%BE/">Sysbench出图</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/07/06/Sysbench%E5%87%BA%E5%9B%BE/" class="article-date">
	  <time datetime="2017-07-06T14:00:00.000Z" itemprop="datePublished">2017-07-06</time>
	</a>

      
      
      

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Plot-Sysbench"><a href="#Plot-Sysbench" class="headerlink" title="Plot-Sysbench"></a>Plot-Sysbench</h1><p>prepare<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">sysbench /tmp/sysbench-master/src/lua/oltp_read_write.lua  <span class="comment">--mysql-user=root --mysql-password=mysql --mysql-port=3306 \</span></span><br><span class="line"><span class="comment">--mysql-socket=/data/mysql55/mysql.sock  --mysql-host=localhost \</span></span><br><span class="line"><span class="comment">--mysql-db=sysbenchtest  --tables=10 --table-size=5000000  --threads=30 \</span></span><br><span class="line"><span class="comment">--events=5000000 --report-interval=5 prepare</span></span><br><span class="line"></span><br><span class="line"><span class="comment">##--table-size=五百万,一个表五百万 10个表 五千万</span></span><br><span class="line"><span class="comment">##--threads=30 开30个线程并发prepare</span></span><br><span class="line"></span><br><span class="line">Initializing worker threads...</span><br><span class="line"></span><br><span class="line">Creating table <span class="string">&#x27;sbtest6&#x27;</span>...</span><br><span class="line">Creating table <span class="string">&#x27;sbtest4&#x27;</span>...</span><br><span class="line">Creating table <span class="string">&#x27;sbtest5&#x27;</span>...</span><br><span class="line">Creating table <span class="string">&#x27;sbtest10&#x27;</span>...</span><br><span class="line">Creating table <span class="string">&#x27;sbtest8&#x27;</span>...</span><br><span class="line">Creating table <span class="string">&#x27;sbtest3&#x27;</span>...</span><br><span class="line">Creating table <span class="string">&#x27;sbtest9&#x27;</span>...</span><br><span class="line">Creating table <span class="string">&#x27;sbtest1&#x27;</span>...</span><br><span class="line">Creating table <span class="string">&#x27;sbtest2&#x27;</span>...</span><br><span class="line">Creating table <span class="string">&#x27;sbtest7&#x27;</span>...</span><br><span class="line">Inserting <span class="number">5000000</span> records <span class="keyword">into</span> <span class="string">&#x27;sbtest4&#x27;</span></span><br><span class="line">Inserting <span class="number">5000000</span> records <span class="keyword">into</span> <span class="string">&#x27;sbtest5&#x27;</span></span><br><span class="line">Inserting <span class="number">5000000</span> records <span class="keyword">into</span> <span class="string">&#x27;sbtest6&#x27;</span></span><br><span class="line">Inserting <span class="number">5000000</span> records <span class="keyword">into</span> <span class="string">&#x27;sbtest8&#x27;</span></span><br><span class="line">Inserting <span class="number">5000000</span> records <span class="keyword">into</span> <span class="string">&#x27;sbtest3&#x27;</span></span><br><span class="line">Inserting <span class="number">5000000</span> records <span class="keyword">into</span> <span class="string">&#x27;sbtest9&#x27;</span></span><br><span class="line">Inserting <span class="number">5000000</span> records <span class="keyword">into</span> <span class="string">&#x27;sbtest10&#x27;</span></span><br><span class="line">Inserting <span class="number">5000000</span> records <span class="keyword">into</span> <span class="string">&#x27;sbtest7&#x27;</span></span><br><span class="line">Inserting <span class="number">5000000</span> records <span class="keyword">into</span> <span class="string">&#x27;sbtest1&#x27;</span></span><br><span class="line">Inserting <span class="number">5000000</span> records <span class="keyword">into</span> <span class="string">&#x27;sbtest2&#x27;</span></span><br><span class="line">Creating <span class="keyword">a</span> secondary index <span class="keyword">on</span> <span class="string">&#x27;sbtest6&#x27;</span>...</span><br><span class="line">Creating <span class="keyword">a</span> secondary index <span class="keyword">on</span> <span class="string">&#x27;sbtest9&#x27;</span>...</span><br><span class="line">Creating <span class="keyword">a</span> secondary index <span class="keyword">on</span> <span class="string">&#x27;sbtest4&#x27;</span>...</span><br><span class="line">Creating <span class="keyword">a</span> secondary index <span class="keyword">on</span> <span class="string">&#x27;sbtest8&#x27;</span>...</span><br><span class="line">Creating <span class="keyword">a</span> secondary index <span class="keyword">on</span> <span class="string">&#x27;sbtest3&#x27;</span>...</span><br><span class="line">Creating <span class="keyword">a</span> secondary index <span class="keyword">on</span> <span class="string">&#x27;sbtest7&#x27;</span>...</span><br><span class="line">Creating <span class="keyword">a</span> secondary index <span class="keyword">on</span> <span class="string">&#x27;sbtest2&#x27;</span>...</span><br><span class="line">Creating <span class="keyword">a</span> secondary index <span class="keyword">on</span> <span class="string">&#x27;sbtest1&#x27;</span>...</span><br><span class="line">Creating <span class="keyword">a</span> secondary index <span class="keyword">on</span> <span class="string">&#x27;sbtest5&#x27;</span>...</span><br><span class="line">Creating <span class="keyword">a</span> secondary index <span class="keyword">on</span> <span class="string">&#x27;sbtest10&#x27;</span>...</span><br></pre></td></tr></table></figure><br>
      
    </div>
    <footer class="article-footer">
      
      
      
      

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->


  
    <article id="post-docopt详解"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/06/28/docopt%E8%AF%A6%E8%A7%A3/">docopt详解</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/06/28/docopt%E8%AF%A6%E8%A7%A3/" class="article-date">
	  <time datetime="2017-06-28T14:00:00.000Z" itemprop="datePublished">2017-06-28</time>
	</a>

      
      
      

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Naval Fate.</span><br><span class="line"></span><br><span class="line">Usage:</span><br><span class="line">  naval_fate ship <span class="keyword">new</span> <span class="symbol">&lt;name&gt;</span>...</span><br><span class="line">  naval_fate ship <span class="symbol">&lt;name&gt;</span> <span class="keyword">move</span> <span class="symbol">&lt;x&gt;</span> <span class="symbol">&lt;y&gt;</span> [--speed=<span class="symbol">&lt;kn&gt;</span>]</span><br><span class="line">  naval_fate ship shoot <span class="symbol">&lt;x&gt;</span> <span class="symbol">&lt;y&gt;</span></span><br><span class="line">  naval_fate mine (<span class="keyword">set</span>|<span class="built_in">remove</span>) <span class="symbol">&lt;x&gt;</span> <span class="symbol">&lt;y&gt;</span> [--moored|--drifting]</span><br><span class="line">  naval_fate -h | --<span class="keyword">help</span></span><br><span class="line">  naval_fate --<span class="keyword">version</span></span><br><span class="line"></span><br><span class="line">Option<span class="variable">s:</span></span><br><span class="line">  -h --<span class="keyword">help</span>     Show this screen.</span><br><span class="line">  --<span class="keyword">version</span>     Show <span class="keyword">version</span>.</span><br><span class="line">  --speed=<span class="symbol">&lt;kn&gt;</span>  Speed in knots [defaul<span class="variable">t:</span> <span class="number">10</span>].</span><br><span class="line">  --moored      Moored (anchored) mine.</span><br><span class="line">  --drifting    Drifting mine.</span><br></pre></td></tr></table></figure>
<p>该示例描述了可执行的naval_fate的界面，可以使用命令(ship，new，move等)的不同组合，选项(-h，–help，–speed = <kn>等)和 位置参数(<name>，<x>，<y>).</p>
<p>示例使用方括号“[]”，圆括号“()”，管道“|” 和省略号“…”来描述可选的，必需的，相互排斥的和重复的元素. 一起，这些元素形成有效的使用模式，每个都以程序的名称naval_fate开头.</p>
<p>Below the usage patterns，有一个包含说明的选项列表. 它们描述一个选项是否具有短/长形式(-h，–help)，选项是否具有参数(-speed = <kn>)，以及该参数是否具有默认值([default:10]).</p>
<h3 id="Usage模式"><a href="#Usage模式" class="headerlink" title="Usage模式"></a>Usage模式</h3><p>在Usage:(不区分大小写) 关键字 间出现,并且显示的空了一行的部分 被解释为 usage pattern<br>在”Usage:”后出现的第一个单词被解释为程序的名字. 下面是一个最简单的示例,该示例没有任何命令行参数<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#### Usage: my_program</span><br></pre></td></tr></table></figure><br>程序可以使用用于描述模式的各种元素列出几个模式:<br><figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Usage:</span><br><span class="line">  my_program command --option &lt;argument&gt;</span><br><span class="line">  my_program <span class="meta">[&lt;optional-argument&gt;]</span></span><br><span class="line">  my_program --another-option=&lt;<span class="keyword">with</span>-argument&gt;</span><br><span class="line">  my_program (--either-that-option | &lt;<span class="keyword">or</span>-this-argument&gt;)</span><br><span class="line">  my_program &lt;repeating-argument&gt; &lt;repeating-argument&gt;...</span><br></pre></td></tr></table></figure></p>
<h4 id="ARGUMENT"><a href="#ARGUMENT" class="headerlink" title=" ARGUMENT"></a><argument> ARGUMENT</h4>
      
    </div>
    <footer class="article-footer">
      
      
      
      

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->


  
    <article id="post-传统复制在线切换到GTID模式"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/06/17/%E4%BC%A0%E7%BB%9F%E5%A4%8D%E5%88%B6%E5%9C%A8%E7%BA%BF%E5%88%87%E6%8D%A2%E5%88%B0GTID%E6%A8%A1%E5%BC%8F/">传统复制在线切换到GTID模式</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/06/17/%E4%BC%A0%E7%BB%9F%E5%A4%8D%E5%88%B6%E5%9C%A8%E7%BA%BF%E5%88%87%E6%8D%A2%E5%88%B0GTID%E6%A8%A1%E5%BC%8F/" class="article-date">
	  <time datetime="2017-06-17T14:00:00.000Z" itemprop="datePublished">2017-06-17</time>
	</a>

      
      
      

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="传统复制切换到GTID模式"><a href="#传统复制切换到GTID模式" class="headerlink" title="传统复制切换到GTID模式"></a>传统复制切换到GTID模式</h2><p>5.7.6以后参数<code>gtid_mode</code>可以动态修改<br>GTID_MODE:</p>
<ul>
<li><p>OFF </p>
<blockquote>
<p>彻底关闭GTID,如果关闭状态的备库接受到带GTID的事务,则复制中断</p>
</blockquote>
</li>
<li><p>OFF_PERMISSIVE </p>
<blockquote>
<p>可以认为是关闭GTID前的过渡阶段,主库在设置成该值后不再生成GTID,备库在接受到带GTID 和不带GTID的事务都可以容忍<br>主库在关闭GTID时,执行事务会产生一个Anonymous_Gtid事件,会在备库执行:<br>SET @@SESSION.GTID_NEXT= ‘ANONYMOUS’<br>备库在执行匿名事务时,就不会去尝试生成本地GTID了</p>
</blockquote>
</li>
<li><p>ON_PERMISSIVE</p>
<blockquote>
<p>可以认为是打开GTID前的过渡阶段,主库在设置成该值后会产生GTID,同时备库依然容忍带GTID和不带GTID的事务</p>
</blockquote>
</li>
<li><p>ON</p>
<blockquote>
<p>完全打开GTID,如果打开状态的备库接受到不带GTID的事务,则复制中断</p>
</blockquote>
</li>
</ul>
<p>准备工作<br>1.拓扑中的所有服务器都必须使用MySQL 5.7.6或更高版本. 除非拓扑中的所有服务器都使用此版本,否则无法在任何单个服务器上启用GTID事务.<br>2.所有服务器都将gtid_mode设置为默认值OFF.</p>
<p>The following procedure can be paused at any time and later resumed where it was, or reversed by jumping to the corresponding step of Section 16.1.5.3, “Disabling GTID Transactions Online”, the online procedure to disable GTIDs. This makes the procedure fault-tolerant because any unrelated issues that may appear in the middle of the procedure can be handled as usual, and then the procedure continued where it was left off.<br>切换过程可以再任意时刻停止,并稍后继续执行</p>
<blockquote>
<p>注意<br>在每一步执行完全完成后再执行下一步</p>
</blockquote>
      
    </div>
    <footer class="article-footer">
      
      
      
      

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->


  


  <nav id="page-nav">
    <!--  -->
    
    <a class="extend prev" rel="prev" href="/page/16/">« 上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/15/">15</a><a class="page-number" href="/page/16/">16</a><span class="page-number current">17</span><a class="page-number" href="/page/18/">18</a><a class="page-number" href="/page/19/">19</a><a class="extend next" rel="next" href="/page/18/">下一页 »</a>
  </nav>

</section>
        
      </div>
      
        <div align="center" style="margin-top: 30px;"><hr class="hr" style="margin:0px; height:3px;"></div>
      
      <footer id="footer">
  

  <div class="container">
      	<div class="row">
	      <p> Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/iTimeTraveler/hexo-theme-hiker" target="_blank">Hexo-theme-hiker</a> </p>
	      <p id="copyRightEn">Copyright &copy; 2013 - 2022 Fan() All Rights Reserved.</p>
	      
	      
    		<p class="busuanzi_uv">
				访客数 : <span id="busuanzi_value_site_uv"></span> |  
				访问量 : <span id="busuanzi_value_site_pv"></span>
		    </p>
  		   
		</div>

		
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");
    var allheader = document.getElementById("allheader");

    wrapdiv.style.minHeight = document.body.offsetHeight + "px";
    if (allheader != null) {
      contentdiv.style.minHeight = document.body.offsetHeight - allheader.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    } else {
      contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    }
</script>
    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/scripts.js"></script>



  
<script src="/js/home.js"></script>











	<div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>



	<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
	</script>






  </div>

  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="myModalLabel">设置</h2>
      </div>
      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">


      <div class="modal-body">
          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" onclick="javascript:setFontSize();" aria-expanded="true" aria-controls="collapseOne">
              正文字号大小
            </a>
          </div>
          <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
          <div class="panel-body">
            您已调整页面字体大小
          </div>
        </div>
      


          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" onclick="javascript:setBackground();" aria-expanded="true" aria-controls="collapseTwo">
              夜间护眼模式
            </a>
        </div>
          <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
          <div class="panel-body">
            夜间模式已经开启，再次单击按钮即可关闭 
          </div>
        </div>

        <div>
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="true" aria-controls="collapseThree">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;关 于&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
        </div>
         <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
          <div class="panel-body">
            Fan()
          </div>
          <div class="panel-body">
            Copyright © 2022 大范 All Rights Reserved.
          </div>
        </div>
      </div>


      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <div class="modal-footer">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
      </div>
    </div>
  </div>
</div>
  
  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
  
</body>
</html>